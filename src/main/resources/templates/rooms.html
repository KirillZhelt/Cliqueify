<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="base/base_layout :: base_layout(~{::title}, ~{::section})">
<head>
    <title>My rooms</title>
</head>
<body>
<section>
    <h2 class="mt-3 ml-5 mb-3">My rooms</h2>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">
                    Name
                </th>
                <th scope="col">
                    Expiry date
                </th>
            </tr>
        </thead>
        <tbody>
            <script>
                function rowClicked(roomId) {
                    location.href = `/rooms/${roomId}`;
                }
            </script>

            <th:block th:each="room: ${rooms}">
                <a th:href="@{/rooms/{id}(id=${room.id})}">
                    <tr class="room-row" style="cursor: pointer;"
                        th:onclick="'javascript:rowClicked(\'' + ${room.id} + '\');'">
                        <td th:text="${room.name}"></td>
                        <td th:text="${room.expiryDate}"></td>
                    </tr>
                </a>
            </th:block>
        </tbody>
    </table>
</section>



</body>
</html>